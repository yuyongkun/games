var hg=null;function addClass(e,n){if(!e||!n)return!1;if(e.className){var a=e.className;e.className=a+" "+n}else e.className=n;return!0}function removeClass(e,n){if(!e||!n)return!1;if(!e.className)return!1;for(var a=e.className.split(" "),t=0;t<a.length;t++)if(a[t]===n){a.splice(t,1),e.className="";for(var i=0;i<a.length;i++)e.className+=" ",e.className+=a[i];return!0}}var orderId=null;function playAudioInWechat(n){window.WeixinJSBridge?WeixinJSBridge.invoke("getNetworkType",{},function(e){n.currentTime=0,n.play()},!1):document.addEventListener("WeixinJSBridgeReady",function(){WeixinJSBridge.invoke("getNetworkType",{},function(e){n.currentTime=0,n.play()})},!1)}function createHg(e){return(hg=new HardestGame(document.getElementById("gameStage"),e)).levelSuccessHandle=function(){if(hg.level<3){playAudioInWechat($("#success_audio").get(0)),document.getElementById("currentLevel").getElementsByTagName("span")[0].innerHTML=hg.level;var e=3,n=setInterval(function(){--e<=0&&(clearInterval(n),hg.gameContinue(!0))},1e3)}else{document.getElementById("back_music").pause(),playAudioInWechat($("#gameSuccess_audio").get(0)),$("#app").addClass("blur"),$("#gameSuccessBox").css("display","block"),$("#gameSuccessBoxBtn").on("click",function(){window.isH5?window.history.go(-1):wx.miniProgram.navigateBack()})}},hg.gameOverHandle=function(){clearInterval(timeboxInterval),(hg=null)&&delete hg,document.getElementById("back_music").pause(),playAudioInWechat($("#gameFail_audio").get(0)),$("#gameOverBox").css("display","block"),$("#app").addClass("blur"),$("#gameOverBoxBtn").on("click",function(){window.isH5?window.history.go(-1):wx.miniProgram.navigateBack()})},hg.init(),hg.canvas.parentNode.style.width=hg.canvas.width+"px",hg.canvas.parentNode.style.height=hg.canvas.height+"px",hg.gameStart(),document.getElementById("currentLevel").getElementsByTagName("span")[0].innerHTML=hg.level,!0}$(function(){$(".close").on("click",function(){window.isH5?window.history.go(-1):wx.miniProgram.navigateBack()}),document.getElementById("levelSwitchBox").addEventListener("webkitAnimationEnd",function(){$("#levelSwitchBox").css("display","none"),$("#levelSwitchBoxMain").attr("src","assets/img/level_2_main.png"+kh_version_number),$("#levelSwitchBox").removeClass("hidden")}),$("#levelSwitchBox").addClass("hidden"),hg||createHg(!1)});